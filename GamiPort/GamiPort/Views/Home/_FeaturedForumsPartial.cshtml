@using GamiPort.Areas.Forum.Dtos.Forum
@{
    var featuredForums = ViewData["FeaturedForums"] as List<ForumListItemDto> ?? new List<ForumListItemDto>();
}

<div class="row g-3">
    @foreach (var forum in featuredForums)
    {
        <div class="col-12 col-sm-6 col-lg-3">
            <a class="card h-100 shadow-sm hover-lift text-reset text-decoration-none" href="/Forum/Threads/Index?forumId=@forum.ForumId">
                <img src="@forum.ImageUrl" class="card-img-top" alt="@forum.Name" style="object-fit: cover; height: 150px;" />
                <div class="card-body">
                    <span class="badge bg-teal me-2">@forum.GameId</span>
                    <h6 class="card-title mt-2">@forum.Name</h6>
                    <p class="card-text text-muted small mb-0">@forum.Description</p>
                </div>
            </a>
        </div>
    }
</div>
<div style="position: absolute; bottom: 0; right: 0;">
    <nav>
        <div class="btn-group featured-forums-pagination" role="group">
            @if ((int)ViewData["CurrentPage"] > 1)
            {
                <a class="btn btn-outline-primary" href="@Url.Action("_FeaturedForumsPartial", new { page = (int)ViewData["CurrentPage"] - 1 })"><i class="bi bi-arrow-left"></i></a>
            }
            @for (int i = 1; i <= (int)ViewData["TotalPages"]; i++)
            {
                <a class="btn @(i == (int)ViewData["CurrentPage"] ? "btn-primary" : "btn-outline-primary")" href="@Url.Action("_FeaturedForumsPartial", new { page = i })">@i</a>
            }
            @if ((int)ViewData["CurrentPage"] < (int)ViewData["TotalPages"])
            {
                <a class="btn btn-outline-primary" href="@Url.Action("_FeaturedForumsPartial", new { page = (int)ViewData["CurrentPage"] + 1 })"><i class="bi bi-arrow-right"></i></a>
            }
        </div>
    </nav>
</div>