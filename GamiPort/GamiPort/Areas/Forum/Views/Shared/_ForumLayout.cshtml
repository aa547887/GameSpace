@* Views/Shared/_Layout.cshtml *@
@* ===========================================
   Views/Shared/_Layout.cshtml (for Forum)
   功能：論壇專用 Layout，但與全站共用 Sidebar/Footer。
   =========================================== *@
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"]</title>

    <!-- 🧩 基底套件：Bootstrap + Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

    <!-- 🎨 全站與論壇樣式 -->
    @* 若論壇要沿用主站的 sidebar/footer 樣式，
       建議引入 layout.css（主站共用的 CSS） *@
    <link href="~/css/layout-shell.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/Forum/forum-layout.css" rel="stylesheet" asp-append-version="true" />
    @* 如果論壇還有獨立風格，就放在 layout.css 後面（可覆蓋） *@
    <link href="~/css/Forum/forum-layout.css" rel="stylesheet" asp-append-version="true" />

    @RenderSection("Styles", false)
</head>

<body>
    <!-- ===========================================
         🔹 頂部導覽列（全站共用）
         若論壇也要有登入／Logo／搜尋列，直接重用主站 Topbar。
         =========================================== -->
    @await Html.PartialAsync("~/Views/Shared/_TopbarLevel1.cshtml")

    <!-- ===========================================
         🔹 左側欄版型
         Forum 改為吃「全站 Sidebar」，
         所以這邊用 d-flex 讓 Sidebar 與主內容並列。
         =========================================== -->
    <div class="app d-flex">
        <!-- ✅ 左側 Sidebar（共用） -->
        <aside class="layout-sidebar">
            @* 直接吃全站的 Sidebar *@
            @await Html.PartialAsync("~/Views/Shared/_Sidebar.cshtml")
        </aside>

        <!-- ✅ 右側主內容區 -->
        <div class="app-main flex-grow-1 d-flex flex-column min-vh-100">
            <!-- ⚙️ 論壇專屬上方區塊（如看板標題、麵包屑） -->
            @await Html.PartialAsync("~/Areas/Forum/Views/Shared/_ForumTopbar.cshtml")

            <!-- ⚙️ 主要內容區：RenderBody = 每頁內容 -->
            <main class="flex-grow-1">
                <div class="container my-3">
                    <div class="row g-4">
                        <div class="col-lg-8">
                            @RenderBody()
                        </div>

                        <aside class="col-lg-4">
                            @* 若論壇頁面需要右欄（排行榜/公告）可填 *@
                            @RenderSection("RightRail", false)
                        </aside>
                    </div>
                </div>
            </main>

            <!-- ✅ 共用 Footer -->
            <footer class="border-top mt-auto">
                @await Html.PartialAsync("~/Views/Shared/_Footer.cshtml")
            </footer>
        </div>
    </div>

    <!-- ===========================================
         📦 Bootstrap JS + 收合 Sidebar 控制
         =========================================== -->
    

   @*  <script>
        // 桌面收合 Sidebar，用主站那套 sidebar-collapsed
        document.getElementById('SidebarToggle')?.addEventListener('click', () => {
            document.documentElement.classList.toggle('sidebar-collapsed');
        });
    </script> *@
    <!-- 全站共用腳本 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/sidebar.js" asp-append-version="true"></script>
    @RenderSection("Scripts", false)
</body>
</html>


