/* =============================================================
   Support Bubbles（共用對話泡泡樣式，與後台一致）
   - 僅在外層容器附加 .support-chat 時生效，避免汙染其他區塊
   - 左側（other）與右側（mine）對齊並各自帶有小角標（你說的「小點」）
   - 前台 Ticket.cshtml 會載入本檔，控制器 MessageList 會輸出對應的 HTML 結構
   ============================================================= */

/* 區域變數：控制最大寬與圓角 */
.support-chat {
    --bubble-max: 560px;
    --bubble-radius: 18px;
}

    /* 每則訊息外層：水平排列、底部對齊 */
    .support-chat .msg-row {
        display: flex;
        align-items: flex-end;
        gap: 6px;
        margin: 8px 0;
        padding: 0 6px; /* 與外框留些間距 */
    }

        .support-chat .msg-row.other { /* 對方（客服）在左側 */
            justify-content: flex-start;
        }

        .support-chat .msg-row.mine {  /* 自己（使用者）在右側 */
            justify-content: flex-end;
        }

    /* 內層欄位：承載 meta（徽章+時間）與泡泡本體，限制最大寬度 */
    .support-chat .msg-col {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        max-width: min(72%, var(--bubble-max));
    }

    .support-chat .msg-row.mine .msg-col {
        align-items: flex-end;
    }

    /* 發送者徽章 + 時間（顯示在泡泡上方的一行） */
    .support-chat .msg-meta {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: .75rem;
        opacity: .85;
        color: #6c757d;
        margin: 0 4px 4px; /* 與泡泡本體的距離 */
    }

    /* 訊息泡泡本體 */
    .support-chat .msg-bubble {
        position: relative;
        display: inline-block;
        padding: 10px 12px;
        border-radius: var(--bubble-radius);
        max-width: 100%;
        font-size: .95rem;
        line-height: 1.45;
        box-shadow: 0 1px 2px rgba(0,0,0,.06);
        word-break: break-word;
        overflow-wrap: anywhere; /* 長字/網址可換行 */
        white-space: pre-wrap;   /* 保留換行 */
    }

    .support-chat .msg-row.other .msg-bubble {
        background: #f1f3f5;
        color: #212529;
        border-bottom-left-radius: 6px; /* 左下角稍微收尖，配合小角標 */
    }

    .support-chat .msg-row.mine .msg-bubble {
        background: #0d6efd;
        color: #fff;
        border-bottom-right-radius: 6px; /* 右下角稍微收尖，配合小角標 */
    }

    /* 小角標（你形容的「小點」）：靠左/靠右、貼近泡泡底部 */
    .support-chat .msg-row.other .msg-bubble::after {
        content: "";
        position: absolute;
        left: -6px;
        bottom: 10px;
        border-width: 6px;
        border-style: solid;
        border-color: transparent #f1f3f5 transparent transparent;
    }

    .support-chat .msg-row.mine .msg-bubble::after {
        content: "";
        position: absolute;
        right: -6px;
        bottom: 10px;
        border-width: 6px;
        border-style: solid;
        border-color: transparent transparent transparent #0d6efd;
    }

    /* 讓泡泡內的連結較容易辨識（若有） */
    .support-chat .msg-bubble a {
        text-decoration: underline;
    }

