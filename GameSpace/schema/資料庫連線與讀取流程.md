# 資料庫連線與資料讀取完整流程

## 1. 連線資訊
- **伺服器**: DESKTOP-8HQIS1S\SQLEXPRESS
- **資料庫**: GameSpacedatabase
- **認證方式**: Windows 整合認證 (-E 參數)
- **工具**: sqlcmd 命令列工具

## 2. 連線命令格式
`ash
sqlcmd -S \
DESKTOP-8HQIS1S\SQLEXPRESS\ -d \GameSpacedatabase\ -E -Q \SQL查詢語句\
`

## 3. 已成功讀取的資料表

### A. Manager 權限相關表 (使用者權限管理)
1. **ManagerData** - 管理員基本資料
   - 102 個管理員帳號
   - 包含姓名、帳號、密碼、Email、註冊日期
   - 關鍵測試帳號：
     - zhang_zhiming_01 (AdminPass001@) - 最高權限
     - li_xiaohua_02 (SecurePass002#) - 使用者管理
     - wang_meiling_03 (StrongPwd003!) - 商城寵物管理

2. **ManagerRolePermission** - 角色權限設定
   - 8 種角色權限
   - 關鍵權限：UserStatusManagement, ShoppingPermissionManagement, Pet_Rights_Management

3. **ManagerRole** - 管理員角色分配
   - 102 個管理員的角色分配記錄

### B. MiniGame Area 核心表
1. **User_Wallet** - 會員錢包
2. **WalletHistory** - 錢包交易歷史
3. **UserSignInStats** - 每日簽到統計
4. **Pet** - 寵物養成系統
5. **MiniGame** - 小遊戲記錄
6. **CouponType** - 優惠券類型 (20種)
7. **Coupon** - 會員優惠券
8. **EVoucherType** - 電子禮券類型 (20種)
9. **EVoucher** - 會員電子禮券

## 4. 實際執行的查詢命令

### Manager 權限相關查詢
`ash
# 讀取所有管理員資料
sqlcmd -S \DESKTOP-8HQIS1S\SQLEXPRESS\ -d \GameSpacedatabase\ -E -Q \SELECT
*
FROM
ManagerData\

# 讀取角色權限設定
sqlcmd -S \DESKTOP-8HQIS1S\SQLEXPRESS\ -d \GameSpacedatabase\ -E -Q \SELECT
*
FROM
ManagerRolePermission\

# 讀取管理員角色分配
sqlcmd -S \DESKTOP-8HQIS1S\SQLEXPRESS\ -d \GameSpacedatabase\ -E -Q \SELECT
*
FROM
ManagerRole\
`

### MiniGame Area 相關查詢
`ash
# 讀取錢包交易歷史 (前10筆)
sqlcmd -S \DESKTOP-8HQIS1S\SQLEXPRESS\ -d \GameSpacedatabase\ -E -Q \SELECT
TOP
10
*
FROM
WalletHistory\

# 讀取簽到統計 (前10筆)
sqlcmd -S \DESKTOP-8HQIS1S\SQLEXPRESS\ -d \GameSpacedatabase\ -E -Q \SELECT
TOP
10
*
FROM
UserSignInStats\

# 讀取優惠券資料 (前10筆)
sqlcmd -S \DESKTOP-8HQIS1S\SQLEXPRESS\ -d \GameSpacedatabase\ -E -Q \SELECT
TOP
10
*
FROM
Coupon\

# 讀取電子禮券資料 (前10筆)
sqlcmd -S \DESKTOP-8HQIS1S\SQLEXPRESS\ -d \GameSpacedatabase\ -E -Q \SELECT
TOP
10
*
FROM
EVoucher\
`

## 5. 重要發現

### Manager 權限系統
- **102 個管理員帳號**，包含完整的中英文姓名
- **8 種角色權限**，涵蓋所有管理功能
- **權限對應**：
  - 角色1：管理者平台管理人員 (最高權限)
  - 角色2：使用者與論壇管理經理
  - 角色3：商城與寵物管理經理
  - 角色4-8：各種專門管理人員

### MiniGame Area 業務邏輯
- **點數系統**：每日簽到、遊戲獎勵、兌換扣點
- **優惠券系統**：20種類型，自動發放、使用追蹤
- **電子禮券系統**：20種類型，多種價值範圍
- **寵物系統**：五維屬性、外觀變化、升級機制
- **小遊戲系統**：冒險遊戲、獎勵結算、屬性影響

## 6. 注意事項
- 使用 Windows 整合認證，不需要額外的使用者名稱和密碼
- 查詢結果會顯示在命令列中，格式可能較長
- 建議使用 TOP 10 限制結果數量，避免輸出過長
- 所有資料表都有完整的種子資料，可以直接用於開發測試

## 7. 下一步
基於這些實際資料庫資料，可以開始實作 Areas/MiniGame 的完整功能：
1. 建立對應的 Model 類別
2. 實作 Controller 和 Service 層
3. 建立 Admin 後台頁面 (使用 SB Admin 樣式)
4. 實作權限檢查和業務邏輯
